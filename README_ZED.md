# üöÄ Turner Telegram Bot - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ –≤ Zed Dev

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Zed Dev](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-zed-dev)
- [–ó–∞–¥–∞—á–∏ (Tasks)](#–∑–∞–¥–∞—á–∏-tasks)
- [–û—Ç–ª–∞–¥–∫–∞ (Debugging)](#–æ—Ç–ª–∞–¥–∫–∞-debugging)
- [–†–∞–±–æ—Ç–∞ —Å Git](#—Ä–∞–±–æ—Ç–∞-—Å-git)
- [–î–µ–ø–ª–æ–π –Ω–∞ VPS](#–¥–µ–ø–ª–æ–π-–Ω–∞-vps)
- [–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Zed Dev
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ Zed Dev –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
zed /–ø—É—Ç—å/–∫/turner-telegram-bot
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª Zed
pip install -r requirements.txt

# –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –∑–∞–¥–∞—á—É Zed
# –ù–∞–∂–º–∏—Ç–µ Cmd+Shift+P ‚Üí "Tasks: Run Task" ‚Üí "Install Dependencies"
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª:
# - BOT_TOKEN: –ü–æ–ª—É—á–∏—Ç–µ —É @BotFather
# - –ü–∞—Ä–æ–ª–∏: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Zed Dev

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è Zed Dev:

- `.zed/settings.json` - –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- `.zed/tasks.json` - –∑–∞–¥–∞—á–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- `.zed/launch.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ—Ç–ª–∞–¥–∫–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
1. **Python** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
2. **Docker** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
3. **Git** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

## üéØ –ó–∞–¥–∞—á–∏ (Tasks)

–î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏ (Cmd+Shift+P ‚Üí "Tasks: Run Task"):

### üêç Python –∑–∞–¥–∞—á–∏
- **Run Bot** - –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞
- **Install Dependencies** - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **Test Python Syntax** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ Python —Ñ–∞–π–ª–æ–≤

### üê≥ Docker –∑–∞–¥–∞—á–∏
- **Docker Compose Up** - –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **Docker Compose Down** - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **Docker Compose Logs** - –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

### üåê –î–µ–ø–ª–æ–π –∑–∞–¥–∞—á–∏
- **Deploy to VPS** - –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- **Sync with VPS** - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ —Å —Å–µ—Ä–≤–µ—Ä–æ–º

### üîß Git –∑–∞–¥–∞—á–∏
- **Git Status** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- **Git Push to Origin** - –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –≤–∞—à —Ñ–æ—Ä–∫
- **Git Pull from Origin** - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–∑ —Ñ–æ—Ä–∫–∞

## üêõ –û—Ç–ª–∞–¥–∫–∞ (Debugging)

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ—Ç–ª–∞–¥–∫–∏
1. **Python: Debug Bot** - –û—Ç–ª–∞–¥–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –±–æ—Ç–∞
2. **Python: Debug Current File** - –û—Ç–ª–∞–¥–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∞–π–ª–∞
3. **Python: Run with Docker Environment** - –û—Ç–ª–∞–¥–∫–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ Docker

### –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –æ—Ç–ª–∞–¥–∫–∏
- `F5` - –ó–∞–ø—É—Å–∫ –æ—Ç–ª–∞–¥–∫–∏
- `F9` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞/—Å–Ω—è—Ç–∏–µ —Ç–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞
- `F10` - –®–∞–≥ —á–µ—Ä–µ–∑
- `F11` - –®–∞–≥ –≤–Ω—É—Ç—Ä—å

## üîÑ –†–∞–±–æ—Ç–∞ —Å Git

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
```
origin    - –≤–∞—à —Ñ–æ—Ä–∫: git@github.com:kamaero/turner-telegram-bot.git
upstream  - –æ—Ä–∏–≥–∏–Ω–∞–ª: https://github.com/serg-akulov/turner-telegram-bot.git
```

### –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å
```bash
# 1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ–∏—á–∏
git checkout -b feature/–Ω–∞–∑–≤–∞–Ω–∏–µ-—Ñ–∏—á–∏

# 2. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git add .
git commit -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"

# 3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –≤–∞—à —Ñ–æ—Ä–∫
git push origin feature/–Ω–∞–∑–≤–∞–Ω–∏–µ-—Ñ–∏—á–∏

# 4. –°–æ–∑–¥–∞—Ç—å Pull Request –Ω–∞ GitHub

# 5. –ü–æ—Å–ª–µ –º–µ—Ä–∂–∞, –æ–±–Ω–æ–≤–∏—Ç—å main
git checkout main
git pull origin main
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∞–ª–∏–∞—Å—ã Git
```bash
git co    # checkout
git br    # branch  
git ci    # commit
git st    # status
git lg    # log --oneline --graph --decorate
```

## üåê –î–µ–ø–ª–æ–π –Ω–∞ VPS

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
```bash
# –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π (—Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π .env)
./deploy.sh
```

### –†—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
```bash
# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ (–∏—Å–∫–ª—é—á–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
rsync -avz --exclude=.env --exclude=.git ./ root@31.31.207.220:/opt/turner-bot/
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ VPS
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@31.31.207.220

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
cd /opt/turner-bot && docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f turner-bot
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π .env)
python3 test_db.py
```

–¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–æ—Ç–∞
4. –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–∞–º–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
turner-telegram-bot/
‚îú‚îÄ‚îÄ .zed/                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Zed Dev
‚îÇ   ‚îú‚îÄ‚îÄ settings.json       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ tasks.json          # –ó–∞–¥–∞—á–∏
‚îÇ   ‚îî‚îÄ‚îÄ launch.json         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ—Ç–ª–∞–¥–∫–∏
‚îú‚îÄ‚îÄ admin/                  # PHP –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ bot.py                  # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ database.py            # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îú‚îÄ‚îÄ docker-compose.yml     # Docker Compose
‚îú‚îÄ‚îÄ Dockerfile             # –û–±—Ä–∞–∑ –¥–ª—è –±–æ—Ç–∞
‚îú‚îÄ‚îÄ Dockerfile-web-admin   # –û–±—Ä–∞–∑ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
‚îú‚îÄ‚îÄ requirements.txt       # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ schema.sql            # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î
‚îú‚îÄ‚îÄ deploy.sh             # –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
‚îú‚îÄ‚îÄ deploy.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–µ–ø–ª–æ—è
‚îú‚îÄ‚îÄ .env.example          # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ README_ZED.md         # –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat .env | grep BOT_TOKEN

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip list | grep aiogram

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
python3 bot.py 2>&1 | head -20
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose ps

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ MySQL
docker-compose logs mysql_db

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
python3 test_db.py
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–¥–º–∏–Ω–∫–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 8081
curl http://localhost:8081

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
ssh root@31.31.207.220 "nginx -t"

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
ssh root@31.31.207.220 "certbot certificates"
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- [Zed Dev –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://zed.dev/docs)
- [Docker –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.docker.com/)
- [Aiogram –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.aiogram.dev/)
- [GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://github.com/kamaero/turner-telegram-bot)

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
- GitHub: [kamaero](https://github.com/kamaero)
- VPS: 31.31.207.220
- –î–æ–º–µ–Ω—ã: 
  - motorist-ufa.ru (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç)
  - motorist-ufa.online (–∞–¥–º–∏–Ω–∫–∞ –±–æ—Ç–∞)

---

**üéâ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!** –û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Zed Dev –∏ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É!